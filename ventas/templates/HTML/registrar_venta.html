{% load static %}

<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Registrar Venta</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="{% static '../CSS/ventas.css' %}">
</head>
<body>
<div id="ventas" class="container py-4">
  <div class="frame">
    <div class="d-flex align-items-center gap-2 mb-2">
      <span class="pill">ðŸ§¾ Nueva Venta</span>
    </div>

    <form method="post">
      {% csrf_token %}
      <div class="workarea">
        <!-- Tabla de detalle -->
        <div class="gridwrap">
          <div class="gridhead">
            <span class="pill">Cantidad</span>
            <span class="pill">Producto</span>
            <span class="pill">Precio</span>
            <span class="pill">Total</span>
          </div>

          {{ detalle_formset.management_form }}
          <table class="sheet">
            <thead>
              <tr>
                <th>Cantidad</th>
                <th>Producto</th>
                <th>Precio</th>
                <th>Total</th>
              </tr>
            </thead>
            <tbody>
              {% for form in detalle_formset %}
                <tr>
                  <td>{{ form.cantidad }}</td>
                  <td>{{ form.producto }}</td>
                  <td></td>
                  <td></td>
                </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>

        <!-- Lateral -->
        <aside class="side">
          <div class="label"><span class="pill">Datos de Venta</span></div>
          {{ venta_form.as_p }}

          <div class="actions mt-3">
            <button type="submit" class="btn-green">ðŸ’¾ Guardar Venta</button>
            <a href="{% url 'caja:menu' %}" class="btn-red">Cancelar</a>
          </div>
        </aside>
      </div>
    </form>
  </div>
</div>
</body>
</html>
